{% extends 'registration/layout.html' %}

{% block content %}
    <div class="login">
        <h2>Login</h2>
        <form method="post">
            {% csrf_token %}
            <label for="id_username">Username:</label>
            <input type="username" name="username" id="id_username" required>

            <label for="id_password">Password:</label>
            <div class="password-container">
                <input type="password" name="password" id="id_password" required>
                <div class="password-toggle" onclick="togglePasswordVisibility('id_password', 'password-toggle')"><i class="fas fa-eye"></i></div>
            </div>

            <button type="submit">Login</button>

            {{ form.errors }}
        </form>
        <section>
            <label for="id_remember_me">Remember Me:</label>
            <input type="checkbox" name="remember_me" id="id_remember_me">
        </section>
        <p>Don't have an account? <a href="{% url 'registration' %}">Registration</a></p>
        <p>Forgot your password? <a href="{% url 'password_reset' %}">Reset password</a></p>
        <p>Or back to <a href="{% url 'home' %}">Main page</a></p>
    </div>
    <script>
    function togglePasswordVisibility(passwordId) {
        var passwordInput = document.getElementById(passwordId);

        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
        } else {
            passwordInput.type = 'password';
        }
    }
    </script>
{% endblock %}
