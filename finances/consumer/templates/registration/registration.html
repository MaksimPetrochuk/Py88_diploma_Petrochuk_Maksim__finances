{% extends 'registration/layout.html' %}

{% block content %}
    <div class="registration-container">
        <h2>Registration</h2>
        <form method="post">
            {% csrf_token %}
            <label for="id_username">Username:</label>
            <input type="text" name="username" id="id_username" required>

            <label for="id_email">Email:</label>
            <input type="email" name="email" id="id_email" required>

            <label for="id_password1">Password:</label>
            <div class="password-container">
                <input type="password" name="password1" id="id_password1" required>
                <div class="password-toggle" onclick="togglePasswordVisibility('id_password1', 'password-toggle')"><i class="fas fa-eye"></i></div>
            </div>

            <label for="id_password2">Confirm password:</label>
            <div class="password-container">
                <input type="password" name="password2" id="id_password2" required>
                <div class="password-toggle" onclick="togglePasswordVisibility('id_password2', 'password-toggle')"><i class="fas fa-eye"></i></div>
            </div>

            <button type="submit">Register</button>
        </form>
        <p>Already registered? <a href="{% url 'login' %}">Login</a> or back to <a href="{% url 'home' %}">Main page</a></p>
    </div>
    <div class="actionlist">
        <form method="POST">
            <aside>
                <h1>Error list</h1>
                    {{ form.errors }}
            </aside>
        </form>
    </div>

    <script>
    function togglePasswordVisibility(passwordId) {
        var passwordInput = document.getElementById(passwordId);

        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
        } else {
            passwordInput.type = 'password';
        }
    }
    </script>
{% endblock %}
